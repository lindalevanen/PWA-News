(this["webpackJsonppwa-news"]=this["webpackJsonppwa-news"]||[]).push([[0],{21:function(e,t,n){},28:function(e,t,n){e.exports=n(68)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(21),n(9)),s=n(10),l=n(12),u=n(11),m=n(13),d=n(16),f=n(7),h=(n(33),function(){return r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"logo"},"G4M3R N3W5")),r.a.createElement("div",{className:"padder"}))}),p=(n(34),function(e){return r.a.createElement("div",{className:"base-wrapper"},r.a.createElement(h,null),r.a.createElement("div",{className:"content"},e.children))}),g=n(23),v=(n(35),10),b="https://www.gamespot.com/api/articles/?api_key=ac0502dc50b611ff44da3ee2590724945af3e305&format=json&sort=publish_date:desc&limit="+v,w="https://www.gamespot.com/api/articles/?api_key=ac0502dc50b611ff44da3ee2590724945af3e305&format=json&filter=id::id",E="https://cors-anywhere.herokuapp.com/",y=function(e,t){var n="&filter=publish_date:1970-01-01T00:00:00|".concat(t)+"&offset=".concat(e);return fetch(E+b.concat(n)).then((function(e){if(200===e.status)return e.json()})).then((function(e){return console.log("Loaded more: ",e.results),e.results})).catch((function(e){console.error(e)}))},O=function(e,t,n){for(var a=e.getElementsByTagName(t),r=0;r<a.length;r++){var o=a[r].getAttribute(n);"/"===o[0]&&a[r].setAttribute(n,"https://www.gamespot.com"+o)}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={article:void 0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.match.params.articleId,fetch(E+w.replace(":id",e)).then((function(e){if(200===e.status)return e.json()})).then((function(e){return console.log("Loaded details: ",e.results[0]),e.results[0]})).catch((function(e){console.error(e)}))).then((function(e){if(e){var n=function(e){var t=document.createElement("div");return t.innerHTML=e,O(t,"a","href"),O(t,"iframe","src"),t.innerHTML}(e.body);t.setState({article:N({},e,{body:n})})}}))}},{key:"render",value:function(){var e=this.state.article,t=new Date(e&&e.publish_date),n="".concat(t.getDate(),".").concat(t.getMonth(),".").concat(t.getFullYear()),a="".concat(t.getHours(),".").concat(t.getMinutes());return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement("div",{className:"news-wrapper"},r.a.createElement("div",{className:"title"},e.title),r.a.createElement("div",{className:"description"},e.deck),r.a.createElement("div",{className:"date"},r.a.createElement("span",null,n),r.a.createElement("span",null,a)),r.a.createElement("img",{src:e.image.original,className:"thumbnail",alt:"thumbnail"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.body}})))}}]),t}(r.a.Component),P=n(24),I=n(1),M=n(25);n(58);function D(){var e=Object(P.a)(["\n    display: block;\n    margin: 80px auto;\n    width: 110px;\n"]);return D=function(){return e},e}var S=Object(I.css)(D()),L=function(e){return e.loading?r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement(M.PacmanLoader,{css:S,sizeUnit:"px",size:25,color:"#2993bb",loading:!0})):null},_=(n(59),function(e){var t=e.item,n=new Date(t.publish_date),a="".concat(n.getDate(),".").concat(n.getMonth(),".").concat(n.getFullYear()),o="".concat(n.getHours(),".").concat(n.getMinutes());return r.a.createElement(d.b,{to:"/".concat(t.id),className:"news-item"},r.a.createElement("div",{className:"line-content"},r.a.createElement("span",null,t.title),r.a.createElement("div",{className:"date"},r.a.createElement("span",null,a," "),r.a.createElement("span",null,o))),r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:t.image.screen_tiny,className:"thumbnail",alt:"thumbnail"})))}),T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).loadMore=function(){n.setState({loading:!0});var e=n.state.items[0].publish_date.trim().replace(" ","T");y(n.state.amount,e).then((function(e){e&&n.setState((function(t){return{items:t.items.concat(e),amount:t.amount+v,loading:!1}}))}))},n.state={items:[],amount:v,loading:!1,firstPatchReady:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch(E+b).then((function(e){if(200===e.status)return e.json()})).then((function(e){return console.log("Loaded news: ",e.results),e.results})).catch((function(e){console.error(e)})).then((function(t){t&&e.setState({items:t,loading:!1,firstPatchReady:!0})}))}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{loading:this.state.loading}),r.a.createElement("div",{className:"news-list"},t.map((function(e){return r.a.createElement(_,{item:e,key:e.id})})),this.state.firstPatchReady&&r.a.createElement("button",{className:"load-more-button",onClick:function(){return!e.state.loading&&e.loadMore()}},"Load more")))}}]),t}(r.a.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("NODE\xa0ENVIIIIIIII !!!!!!!!!!"),console.log("production"),r.a.createElement(d.a,null,r.a.createElement(p,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/:articleId",component:k}),r.a.createElement(f.a,{path:"/",component:T}))))}}]),t}(r.a.Component),A=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(W,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");A?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(t,e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.9a1e1ae2.chunk.js.map